{"ast":null,"code":"var common = require('./lib/common.js');\nvar serialize = require('./lib/serialize.js');\nvar stdValidators = require('./lib/validators.js');\nfunction Context(validators, mixins) {\n  var self = this;\n  this.validators = {};\n  Object.keys(validators || {}).forEach(function (name) {\n    self.addValidator(name, validators[name]);\n  });\n  this.mixins = {};\n  Object.keys(mixins || {}).forEach(function (name) {\n    self.mixin(name, mixins[name]);\n  });\n}\nContext.prototype.addValidator = function (name, klass) {\n  this.validators[name] = klass;\n  this[name] = function /*varargs*/\n  () {\n    return new klass(this, common.cloneArgs(arguments));\n  };\n  return this;\n};\nContext.prototype.mixin = function (name, validator) {\n  this.mixins[name] = validator;\n  this[name] = function () {\n    return validator.clone(this);\n  };\n  return this;\n};\nContext.prototype.createValidator = function (schema) {\n  return serialize.fromJSON(schema);\n};\nContext.prototype.createValue = function (validator) {\n  return serialize.createValue(validator);\n};\n\n// Context.prototype.createContext = function() {\n//   return new Context(this.validators, this.mixins);\n// };\n\nmodule.exports = function () {\n  return new Context(stdValidators);\n};","map":{"version":3,"names":["common","require","serialize","stdValidators","Context","validators","mixins","self","Object","keys","forEach","name","addValidator","mixin","prototype","klass","cloneArgs","arguments","validator","clone","createValidator","schema","fromJSON","createValue","module","exports"],"sources":["C:/game/mern/node_modules/jski/index.js"],"sourcesContent":["var common = require('./lib/common.js');\nvar serialize = require('./lib/serialize.js');\nvar stdValidators = require('./lib/validators.js');\n\n\nfunction Context(validators, mixins) {\n\n  var self = this;\n\n  this.validators = {};\n  Object.keys(validators || {}).forEach(function(name) {\n    self.addValidator(name, validators[name]);\n  });\n\n  this.mixins = {};\n  Object.keys(mixins || {}).forEach(function(name) {\n    self.mixin(name, mixins[name]);\n  });\n}\n\n\nContext.prototype.addValidator = function(name, klass) {\n\n  this.validators[name] = klass;\n  this[name] = function(/*varargs*/) {\n    return new klass(this, common.cloneArgs(arguments));\n  };\n  return this;\n};\n\n\nContext.prototype.mixin = function(name, validator) {\n\n  this.mixins[name] = validator;\n  this[name] = function() {\n    return validator.clone(this);\n  };\n  return this;\n};\n\n\nContext.prototype.createValidator = function(schema) {\n\n  return serialize.fromJSON(schema);\n};\n\n\nContext.prototype.createValue = function(validator) {\n\n  return serialize.createValue(validator);\n};\n\n\n// Context.prototype.createContext = function() {\n//   return new Context(this.validators, this.mixins);\n// };\n\n\nmodule.exports = function() {\n  return new Context(stdValidators);\n};\n"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AACvC,IAAIC,SAAS,GAAGD,OAAO,CAAC,oBAAoB,CAAC;AAC7C,IAAIE,aAAa,GAAGF,OAAO,CAAC,qBAAqB,CAAC;AAGlD,SAASG,OAAOA,CAACC,UAAU,EAAEC,MAAM,EAAE;EAEnC,IAAIC,IAAI,GAAG,IAAI;EAEf,IAAI,CAACF,UAAU,GAAG,CAAC,CAAC;EACpBG,MAAM,CAACC,IAAI,CAACJ,UAAU,IAAI,CAAC,CAAC,CAAC,CAACK,OAAO,CAAC,UAASC,IAAI,EAAE;IACnDJ,IAAI,CAACK,YAAY,CAACD,IAAI,EAAEN,UAAU,CAACM,IAAI,CAAC,CAAC;EAC3C,CAAC,CAAC;EAEF,IAAI,CAACL,MAAM,GAAG,CAAC,CAAC;EAChBE,MAAM,CAACC,IAAI,CAACH,MAAM,IAAI,CAAC,CAAC,CAAC,CAACI,OAAO,CAAC,UAASC,IAAI,EAAE;IAC/CJ,IAAI,CAACM,KAAK,CAACF,IAAI,EAAEL,MAAM,CAACK,IAAI,CAAC,CAAC;EAChC,CAAC,CAAC;AACJ;AAGAP,OAAO,CAACU,SAAS,CAACF,YAAY,GAAG,UAASD,IAAI,EAAEI,KAAK,EAAE;EAErD,IAAI,CAACV,UAAU,CAACM,IAAI,CAAC,GAAGI,KAAK;EAC7B,IAAI,CAACJ,IAAI,CAAC,GAAG,SAAS;EAAA,GAAa;IACjC,OAAO,IAAII,KAAK,CAAC,IAAI,EAAEf,MAAM,CAACgB,SAAS,CAACC,SAAS,CAAC,CAAC;EACrD,CAAC;EACD,OAAO,IAAI;AACb,CAAC;AAGDb,OAAO,CAACU,SAAS,CAACD,KAAK,GAAG,UAASF,IAAI,EAAEO,SAAS,EAAE;EAElD,IAAI,CAACZ,MAAM,CAACK,IAAI,CAAC,GAAGO,SAAS;EAC7B,IAAI,CAACP,IAAI,CAAC,GAAG,YAAW;IACtB,OAAOO,SAAS,CAACC,KAAK,CAAC,IAAI,CAAC;EAC9B,CAAC;EACD,OAAO,IAAI;AACb,CAAC;AAGDf,OAAO,CAACU,SAAS,CAACM,eAAe,GAAG,UAASC,MAAM,EAAE;EAEnD,OAAOnB,SAAS,CAACoB,QAAQ,CAACD,MAAM,CAAC;AACnC,CAAC;AAGDjB,OAAO,CAACU,SAAS,CAACS,WAAW,GAAG,UAASL,SAAS,EAAE;EAElD,OAAOhB,SAAS,CAACqB,WAAW,CAACL,SAAS,CAAC;AACzC,CAAC;;AAGD;AACA;AACA;;AAGAM,MAAM,CAACC,OAAO,GAAG,YAAW;EAC1B,OAAO,IAAIrB,OAAO,CAACD,aAAa,CAAC;AACnC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}